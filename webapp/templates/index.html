<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmashStats</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .tab-active {
            border-bottom: 3px solid #3b82f6;
            color: #3b82f6;
        }
        .win { color: #22c55e; font-weight: 600; }
        .loss { color: #ef4444; font-weight: 600; }
        .result-1 { background-color: #dcfce7; }
        .result-0 { background-color: #fee2e2; }
        .result-half { background-color: #fef9c3; }
        .modal { display: none; }
        .modal.active { display: flex; }

        /* Loading spinner */
        .loading-spinner {
            display: inline-block;
            width: 24px;
            height: 24px;
            border: 3px solid #e5e7eb;
            border-top-color: #3b82f6;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .loading-row {
            text-align: center;
            padding: 40px;
        }
        .loading-row td {
            padding: 40px !important;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <!-- Header -->
    <header class="bg-gray-800 text-white p-4 shadow-lg">
        <div class="container mx-auto">
            <h1 class="text-2xl font-bold">SmashStats</h1>
            <div class="flex flex-wrap gap-4 mt-2 text-sm">
                <div id="today-stats" class="text-gray-300"></div>
                <div id="overall-stats" class="text-gray-400"></div>
            </div>
        </div>
    </header>

    <!-- Tabs -->
    <nav class="bg-white shadow">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex">
                <button id="tab-games" class="tab-btn px-6 py-3 font-medium tab-active" onclick="showTab('games')">
                    Raw Data
                </button>
                <button id="tab-matchups" class="tab-btn px-6 py-3 font-medium text-gray-500 hover:text-gray-700" onclick="showTab('matchups')">
                    Matchups
                </button>
                <button id="tab-graphs" class="tab-btn px-6 py-3 font-medium text-gray-500 hover:text-gray-700" onclick="showTab('graphs')">
                    Graphs
                </button>
                <button id="tab-coffeetable" class="tab-btn px-6 py-3 font-medium text-gray-500 hover:text-gray-700" onclick="showTab('coffeetable')">
                    DIY Coffee Table
                </button>
            </div>
            <button onclick="openAddModal()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded mr-2">
                + Add Game
            </button>
            <button id="undo-btn" onclick="undoLastAction()" class="hidden bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded mr-4">
                Undo
            </button>
        </div>
    </nav>

    <!-- Content -->
    <main class="container mx-auto p-4">
        <!-- Games Tab -->
        <div id="content-games" class="tab-content">
            <div class="bg-white rounded-lg shadow overflow-hidden">
                <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead class="bg-gray-50 text-left">
                            <tr>
                                <th class="px-3 py-3">Date</th>
                                <th class="px-3 py-3">P1</th>
                                <th class="px-3 py-3">P2</th>
                                <th class="px-3 py-3">P3</th>
                                <th class="px-3 py-3">P4</th>
                                <th class="px-3 py-3">Result</th>
                                <th class="px-3 py-3">Opponent</th>
                                <th class="px-3 py-3">KOs</th>
                                <th class="px-3 py-3">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="games-table" class="divide-y divide-gray-200">
                            <tr id="games-loading" class="loading-row">
                                <td colspan="9">
                                    <div class="loading-spinner"></div>
                                    <div class="text-gray-500 mt-2">Loading games...</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Matchups Tab -->
        <div id="content-matchups" class="tab-content hidden">
            <div class="bg-white rounded-lg shadow overflow-hidden">
                <div id="matchup-filter-bar" class="hidden px-4 py-2 bg-blue-50 border-b border-blue-200 flex items-center justify-between">
                    <span class="text-blue-700 text-sm">Filtering by opponent: <strong id="filter-opponent-name"></strong></span>
                    <button onclick="clearOpponentFilter()" class="text-blue-600 hover:text-blue-800 text-sm underline">Clear filter</button>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead class="bg-gray-50 text-left">
                            <tr>
                                <th class="px-3 py-3">Last Played</th>
                                <th class="px-3 py-3">P1</th>
                                <th class="px-3 py-3">P2</th>
                                <th class="px-3 py-3">P3</th>
                                <th class="px-3 py-3">P4</th>
                                <th class="px-3 py-3">Record</th>
                                <th class="px-3 py-3">History</th>
                                <th class="px-3 py-3">Result</th>
                                <th class="px-3 py-3">Opponent</th>
                                <th class="px-3 py-3">#</th>
                            </tr>
                        </thead>
                        <tbody id="matchups-table" class="divide-y divide-gray-200">
                            <tr id="matchups-loading" class="loading-row">
                                <td colspan="10">
                                    <div class="loading-spinner"></div>
                                    <div class="text-gray-500 mt-2">Loading matchups...</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Graphs Tab -->
        <div id="content-graphs" class="tab-content hidden">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Today's Matchups Pie Chart -->
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-lg font-bold mb-4 text-center">Today's Matchups</h3>
                    <div class="relative" style="height: 250px;">
                        <canvas id="today-chart"></canvas>
                    </div>
                    <div id="today-chart-stats" class="text-center mt-4 text-gray-600"></div>
                </div>

                <!-- Overall Matchups Pie Chart -->
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-lg font-bold mb-4 text-center">Overall Matchups</h3>
                    <div class="relative" style="height: 250px;">
                        <canvas id="overall-chart"></canvas>
                    </div>
                    <div id="overall-chart-stats" class="text-center mt-4 text-gray-600"></div>
                </div>

                <!-- Last Month Matchups Pie Chart -->
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-lg font-bold mb-4 text-center">Last 30 Days</h3>
                    <div class="relative" style="height: 250px;">
                        <canvas id="month-chart"></canvas>
                    </div>
                    <div id="month-chart-stats" class="text-center mt-4 text-gray-600"></div>
                </div>
            </div>

            <!-- Streaks Chart -->
            <div class="flex justify-center mt-6">
                <div class="bg-white rounded-lg shadow p-6 w-full max-w-md">
                    <h3 class="text-lg font-bold mb-4 text-center">Max Streaks</h3>
                    <div class="relative" style="height: 200px;">
                        <canvas id="streaks-chart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Character Stats Charts -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6">
                <!-- P1 Characters Chart -->
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-lg font-bold mb-4 text-center">P1 Characters</h3>
                    <div class="relative" style="height: 350px;">
                        <canvas id="p1-characters-chart"></canvas>
                    </div>
                </div>

                <!-- P2 Characters Chart -->
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-lg font-bold mb-4 text-center">P2 Characters</h3>
                    <div class="relative" style="height: 350px;">
                        <canvas id="p2-characters-chart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Last Month Character Stats Charts -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6">
                <!-- P1 Last Month Chart -->
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-lg font-bold mb-4 text-center">P1 Last 30 Days</h3>
                    <div class="relative" style="height: 350px;">
                        <canvas id="p1-month-chart"></canvas>
                    </div>
                </div>

                <!-- P2 Last Month Chart -->
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-lg font-bold mb-4 text-center">P2 Last 30 Days</h3>
                    <div class="relative" style="height: 350px;">
                        <canvas id="p2-month-chart"></canvas>
                    </div>
                </div>
            </div>

            <!-- KO/Damage Stats Charts -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6">
                <!-- P1 KO/Damage Chart -->
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-lg font-bold mb-4 text-center">P1 KOs & Damage</h3>
                    <div class="relative" style="height: 350px;">
                        <canvas id="p1-ko-damage-chart"></canvas>
                    </div>
                </div>

                <!-- P2 KO/Damage Chart -->
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-lg font-bold mb-4 text-center">P2 KOs & Damage</h3>
                    <div class="relative" style="height: 350px;">
                        <canvas id="p2-ko-damage-chart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Opponents Characters Chart -->
            <div class="grid grid-cols-1 gap-6 mt-6">
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-lg font-bold mb-4 text-center">Opponents Characters</h3>
                    <div class="relative" style="height: 350px;">
                        <canvas id="opponents-characters-chart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Opponents KOs & Damage Chart -->
            <div class="grid grid-cols-1 gap-6 mt-6">
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-lg font-bold mb-4 text-center">Opponents KOs & Damage</h3>
                    <div class="relative" style="height: 350px;">
                        <canvas id="opponents-ko-damage-chart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Performance per Day Chart -->
            <div class="grid grid-cols-1 gap-6 mt-6">
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-lg font-bold mb-4 text-center">Performance per Day</h3>
                    <div class="relative" style="height: 350px;">
                        <canvas id="weekday-chart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Performance per 15 Minutes Chart -->
            <div class="grid grid-cols-1 gap-6 mt-6">
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-lg font-bold mb-4 text-center">Performance per 15 Minutes</h3>
                    <div class="relative" style="height: 350px;">
                        <canvas id="halfhour-chart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Daily Success Rate Chart -->
            <div class="grid grid-cols-1 gap-6 mt-6">
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-lg font-bold mb-4 text-center">Daily Success Rate</h3>
                    <div class="relative" style="height: 400px;">
                        <canvas id="daily-chart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Order of Games Chart -->
            <div class="grid grid-cols-1 gap-6 mt-6">
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-lg font-bold mb-4 text-center">Order of Games</h3>
                    <div class="relative" style="height: 350px;">
                        <canvas id="order-chart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Opponent Pairs Chart -->
            <div class="grid grid-cols-1 gap-6 mt-6">
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-lg font-bold mb-4 text-center">Opponent Pairs</h3>
                    <div class="relative" style="height: 2000px;">
                        <canvas id="opponent-pairs-chart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Coffee Table Build Guide Tab -->
        <div id="content-coffeetable" class="tab-content hidden">
            <div class="max-w-4xl mx-auto">
                <!-- Header -->
                <div class="bg-amber-700 text-white rounded-t-lg p-6 text-center">
                    <h2 class="text-3xl font-bold">DIY Coffee Table Build Guide</h2>
                    <p class="mt-2 text-amber-100">A beautiful, sturdy coffee table you can build in a weekend</p>
                </div>

                <!-- Overview with Diagram -->
                <div class="bg-white rounded-b-lg shadow p-6 mb-6">
                    <h3 class="text-xl font-bold mb-4 text-amber-800">Finished Dimensions</h3>
                    <div class="flex flex-col md:flex-row gap-6 items-center">
                        <div class="flex-1">
                            <ul class="space-y-2 text-gray-700">
                                <li><strong>Length:</strong> 48 inches (122 cm)</li>
                                <li><strong>Width:</strong> 24 inches (61 cm)</li>
                                <li><strong>Height:</strong> 18 inches (46 cm)</li>
                                <li><strong>Weight:</strong> ~45 lbs (20 kg)</li>
                                <li><strong>Skill Level:</strong> Beginner to Intermediate</li>
                                <li><strong>Build Time:</strong> 4-6 hours</li>
                            </ul>
                        </div>
                        <div class="flex-1">
                            <!-- 3D Isometric View SVG -->
                            <svg viewBox="0 0 300 200" class="w-full max-w-sm mx-auto">
                                <!-- Table Top -->
                                <polygon points="50,60 250,60 280,40 80,40" fill="#8B4513" stroke="#5D2E0C" stroke-width="2"/>
                                <polygon points="50,60 50,70 250,70 250,60" fill="#A0522D" stroke="#5D2E0C" stroke-width="1"/>
                                <polygon points="250,60 250,70 280,50 280,40" fill="#6B3E12" stroke="#5D2E0C" stroke-width="1"/>

                                <!-- Front Left Leg -->
                                <rect x="55" y="70" width="20" height="100" fill="#8B4513" stroke="#5D2E0C" stroke-width="1"/>

                                <!-- Front Right Leg -->
                                <rect x="225" y="70" width="20" height="100" fill="#8B4513" stroke="#5D2E0C" stroke-width="1"/>

                                <!-- Back Right Leg (visible) -->
                                <polygon points="255,55 275,45 275,145 255,155" fill="#6B3E12" stroke="#5D2E0C" stroke-width="1"/>

                                <!-- Back Left Leg (visible) -->
                                <polygon points="75,55 95,45 95,145 75,155" fill="#6B3E12" stroke="#5D2E0C" stroke-width="1"/>

                                <!-- Bottom Shelf -->
                                <polygon points="60,140 240,140 265,125 85,125" fill="#A0522D" stroke="#5D2E0C" stroke-width="1"/>
                                <polygon points="60,140 60,150 240,150 240,140" fill="#8B4513" stroke="#5D2E0C" stroke-width="1"/>

                                <!-- Dimension Lines -->
                                <line x1="30" y1="60" x2="30" y2="170" stroke="#333" stroke-width="1" stroke-dasharray="3,3"/>
                                <text x="15" y="120" font-size="10" fill="#333">18"</text>
                                <line x1="50" y1="185" x2="250" y2="185" stroke="#333" stroke-width="1" stroke-dasharray="3,3"/>
                                <text x="140" y="195" font-size="10" fill="#333">48"</text>
                            </svg>
                            <p class="text-center text-sm text-gray-500 mt-2">Isometric view of completed table</p>
                        </div>
                    </div>
                </div>

                <!-- Parts List -->
                <div class="bg-white rounded-lg shadow p-6 mb-6">
                    <h3 class="text-xl font-bold mb-4 text-amber-800">Parts List</h3>

                    <!-- Parts Diagram -->
                    <div class="mb-6 bg-gray-50 rounded-lg p-4">
                        <svg viewBox="0 0 600 350" class="w-full">
                            <!-- Title -->
                            <text x="300" y="25" font-size="16" font-weight="bold" text-anchor="middle" fill="#5D2E0C">All Parts (Exploded View)</text>

                            <!-- Tabletop Boards (3 boards) -->
                            <rect x="20" y="50" width="180" height="20" fill="#DEB887" stroke="#8B4513" stroke-width="2" rx="2"/>
                            <rect x="20" y="75" width="180" height="20" fill="#DEB887" stroke="#8B4513" stroke-width="2" rx="2"/>
                            <rect x="20" y="100" width="180" height="20" fill="#DEB887" stroke="#8B4513" stroke-width="2" rx="2"/>
                            <text x="110" y="145" font-size="11" text-anchor="middle" fill="#333">A: Tabletop Boards (3)</text>
                            <text x="110" y="158" font-size="9" text-anchor="middle" fill="#666">48" x 8" x 1"</text>

                            <!-- Legs (4) -->
                            <rect x="240" y="50" width="20" height="80" fill="#CD853F" stroke="#8B4513" stroke-width="2" rx="2"/>
                            <rect x="270" y="50" width="20" height="80" fill="#CD853F" stroke="#8B4513" stroke-width="2" rx="2"/>
                            <rect x="300" y="50" width="20" height="80" fill="#CD853F" stroke="#8B4513" stroke-width="2" rx="2"/>
                            <rect x="330" y="50" width="20" height="80" fill="#CD853F" stroke="#8B4513" stroke-width="2" rx="2"/>
                            <text x="295" y="145" font-size="11" text-anchor="middle" fill="#333">B: Legs (4)</text>
                            <text x="295" y="158" font-size="9" text-anchor="middle" fill="#666">17" x 3.5" x 3.5"</text>

                            <!-- Long Aprons (2) -->
                            <rect x="400" y="50" width="180" height="15" fill="#D2691E" stroke="#8B4513" stroke-width="2" rx="2"/>
                            <rect x="400" y="70" width="180" height="15" fill="#D2691E" stroke="#8B4513" stroke-width="2" rx="2"/>
                            <text x="490" y="100" font-size="11" text-anchor="middle" fill="#333">C: Long Aprons (2)</text>
                            <text x="490" y="113" font-size="9" text-anchor="middle" fill="#666">42" x 4" x 0.75"</text>

                            <!-- Short Aprons (2) -->
                            <rect x="20" y="180" width="80" height="15" fill="#D2691E" stroke="#8B4513" stroke-width="2" rx="2"/>
                            <rect x="20" y="200" width="80" height="15" fill="#D2691E" stroke="#8B4513" stroke-width="2" rx="2"/>
                            <text x="60" y="235" font-size="11" text-anchor="middle" fill="#333">D: Short Aprons (2)</text>
                            <text x="60" y="248" font-size="9" text-anchor="middle" fill="#666">18" x 4" x 0.75"</text>

                            <!-- Shelf Boards (3) -->
                            <rect x="150" y="180" width="150" height="15" fill="#DEB887" stroke="#8B4513" stroke-width="2" rx="2"/>
                            <rect x="150" y="200" width="150" height="15" fill="#DEB887" stroke="#8B4513" stroke-width="2" rx="2"/>
                            <rect x="150" y="220" width="150" height="15" fill="#DEB887" stroke="#8B4513" stroke-width="2" rx="2"/>
                            <text x="225" y="255" font-size="11" text-anchor="middle" fill="#333">E: Shelf Boards (3)</text>
                            <text x="225" y="268" font-size="9" text-anchor="middle" fill="#666">42" x 6" x 0.75"</text>

                            <!-- Shelf Supports (2) -->
                            <rect x="350" y="180" width="100" height="12" fill="#BC8F8F" stroke="#8B4513" stroke-width="2" rx="2"/>
                            <rect x="350" y="197" width="100" height="12" fill="#BC8F8F" stroke="#8B4513" stroke-width="2" rx="2"/>
                            <text x="400" y="230" font-size="11" text-anchor="middle" fill="#333">F: Shelf Supports (2)</text>
                            <text x="400" y="243" font-size="9" text-anchor="middle" fill="#666">18" x 2" x 0.75"</text>

                            <!-- Breadboard Ends (2) -->
                            <rect x="490" y="180" width="15" height="60" fill="#CD853F" stroke="#8B4513" stroke-width="2" rx="2"/>
                            <rect x="520" y="180" width="15" height="60" fill="#CD853F" stroke="#8B4513" stroke-width="2" rx="2"/>
                            <text x="512" y="260" font-size="11" text-anchor="middle" fill="#333">G: Breadboard</text>
                            <text x="512" y="273" font-size="9" text-anchor="middle" fill="#666">Ends (2)</text>
                            <text x="512" y="286" font-size="9" text-anchor="middle" fill="#666">24" x 2" x 1"</text>

                            <!-- Hardware Legend -->
                            <rect x="20" y="290" width="560" height="50" fill="#F5F5F5" stroke="#CCC" stroke-width="1" rx="4"/>
                            <text x="30" y="310" font-size="11" font-weight="bold" fill="#333">Hardware:</text>
                            <circle cx="120" cy="315" r="4" fill="#666"/>
                            <text x="130" y="318" font-size="9" fill="#333">Wood Screws 2" (24)</text>
                            <circle cx="250" cy="315" r="4" fill="#666"/>
                            <text x="260" y="318" font-size="9" fill="#333">Wood Screws 1.25" (16)</text>
                            <circle cx="400" cy="315" r="4" fill="#666"/>
                            <text x="410" y="318" font-size="9" fill="#333">Wood Glue</text>
                            <circle cx="490" cy="315" r="4" fill="#666"/>
                            <text x="500" y="318" font-size="9" fill="#333">Felt Pads (4)</text>
                        </svg>
                    </div>

                    <!-- Parts Table -->
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm">
                            <thead class="bg-amber-100">
                                <tr>
                                    <th class="px-4 py-2 text-left">Part</th>
                                    <th class="px-4 py-2 text-left">Qty</th>
                                    <th class="px-4 py-2 text-left">Dimensions</th>
                                    <th class="px-4 py-2 text-left">Material</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-200">
                                <tr><td class="px-4 py-2 font-medium">A. Tabletop Boards</td><td class="px-4 py-2">3</td><td class="px-4 py-2">48" x 8" x 1"</td><td class="px-4 py-2">Pine or Oak</td></tr>
                                <tr class="bg-gray-50"><td class="px-4 py-2 font-medium">B. Legs</td><td class="px-4 py-2">4</td><td class="px-4 py-2">17" x 3.5" x 3.5"</td><td class="px-4 py-2">Pine or Oak</td></tr>
                                <tr><td class="px-4 py-2 font-medium">C. Long Aprons</td><td class="px-4 py-2">2</td><td class="px-4 py-2">42" x 4" x 0.75"</td><td class="px-4 py-2">Pine</td></tr>
                                <tr class="bg-gray-50"><td class="px-4 py-2 font-medium">D. Short Aprons</td><td class="px-4 py-2">2</td><td class="px-4 py-2">18" x 4" x 0.75"</td><td class="px-4 py-2">Pine</td></tr>
                                <tr><td class="px-4 py-2 font-medium">E. Shelf Boards</td><td class="px-4 py-2">3</td><td class="px-4 py-2">42" x 6" x 0.75"</td><td class="px-4 py-2">Pine</td></tr>
                                <tr class="bg-gray-50"><td class="px-4 py-2 font-medium">F. Shelf Supports</td><td class="px-4 py-2">2</td><td class="px-4 py-2">18" x 2" x 0.75"</td><td class="px-4 py-2">Pine</td></tr>
                                <tr><td class="px-4 py-2 font-medium">G. Breadboard Ends</td><td class="px-4 py-2">2</td><td class="px-4 py-2">24" x 2" x 1"</td><td class="px-4 py-2">Pine or Oak</td></tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Hardware List -->
                    <h4 class="font-bold mt-6 mb-3">Hardware & Supplies</h4>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div class="bg-gray-50 p-3 rounded">
                            <div class="font-medium">Wood Screws 2"</div>
                            <div class="text-gray-600">24 pieces</div>
                        </div>
                        <div class="bg-gray-50 p-3 rounded">
                            <div class="font-medium">Wood Screws 1.25"</div>
                            <div class="text-gray-600">16 pieces</div>
                        </div>
                        <div class="bg-gray-50 p-3 rounded">
                            <div class="font-medium">Wood Glue</div>
                            <div class="text-gray-600">8 oz bottle</div>
                        </div>
                        <div class="bg-gray-50 p-3 rounded">
                            <div class="font-medium">Felt Pads</div>
                            <div class="text-gray-600">4 pieces (for feet)</div>
                        </div>
                        <div class="bg-gray-50 p-3 rounded">
                            <div class="font-medium">Sandpaper</div>
                            <div class="text-gray-600">80, 120, 220 grit</div>
                        </div>
                        <div class="bg-gray-50 p-3 rounded">
                            <div class="font-medium">Wood Stain</div>
                            <div class="text-gray-600">1 quart (optional)</div>
                        </div>
                        <div class="bg-gray-50 p-3 rounded">
                            <div class="font-medium">Polyurethane</div>
                            <div class="text-gray-600">1 quart</div>
                        </div>
                        <div class="bg-gray-50 p-3 rounded">
                            <div class="font-medium">Pocket Hole Screws</div>
                            <div class="text-gray-600">1.25" (optional)</div>
                        </div>
                    </div>
                </div>

                <!-- Tools Required -->
                <div class="bg-white rounded-lg shadow p-6 mb-6">
                    <h3 class="text-xl font-bold mb-4 text-amber-800">Tools Required</h3>

                    <!-- Tools Diagram -->
                    <div class="mb-6 bg-gray-50 rounded-lg p-4">
                        <svg viewBox="0 0 600 200" class="w-full">
                            <!-- Drill -->
                            <g transform="translate(30, 30)">
                                <rect x="20" y="30" width="60" height="25" fill="#4A4A4A" rx="3"/>
                                <rect x="80" y="35" width="30" height="15" fill="#666"/>
                                <rect x="0" y="20" width="25" height="45" fill="#FFD700" rx="2"/>
                                <circle cx="12" cy="55" r="8" fill="#333"/>
                                <text x="40" y="90" font-size="10" text-anchor="middle" fill="#333">Drill/Driver</text>
                            </g>

                            <!-- Circular Saw -->
                            <g transform="translate(150, 30)">
                                <rect x="10" y="20" width="70" height="30" fill="#E74C3C" rx="3"/>
                                <circle cx="60" cy="50" r="25" fill="#CCC" stroke="#999" stroke-width="2"/>
                                <circle cx="60" cy="50" r="5" fill="#666"/>
                                <rect x="0" y="25" width="15" height="20" fill="#333"/>
                                <text x="45" y="90" font-size="10" text-anchor="middle" fill="#333">Circular Saw</text>
                            </g>

                            <!-- Measuring Tape -->
                            <g transform="translate(270, 30)">
                                <rect x="15" y="15" width="50" height="50" fill="#F39C12" rx="5"/>
                                <circle cx="40" cy="40" r="18" fill="#FFF" stroke="#F39C12" stroke-width="2"/>
                                <rect x="58" y="35" width="30" height="8" fill="#FFF"/>
                                <line x1="62" y1="39" x2="85" y2="39" stroke="#333" stroke-width="1"/>
                                <text x="45" y="90" font-size="10" text-anchor="middle" fill="#333">Tape Measure</text>
                            </g>

                            <!-- Square -->
                            <g transform="translate(380, 30)">
                                <rect x="20" y="20" width="8" height="50" fill="#27AE60"/>
                                <rect x="20" y="20" width="45" height="8" fill="#27AE60"/>
                                <text x="45" y="90" font-size="10" text-anchor="middle" fill="#333">Square</text>
                            </g>

                            <!-- Clamps -->
                            <g transform="translate(480, 30)">
                                <rect x="10" y="15" width="10" height="55" fill="#3498DB"/>
                                <rect x="50" y="15" width="10" height="55" fill="#3498DB"/>
                                <rect x="10" y="15" width="50" height="10" fill="#2980B9"/>
                                <rect x="10" y="60" width="50" height="10" fill="#2980B9"/>
                                <text x="35" y="90" font-size="10" text-anchor="middle" fill="#333">Clamps (4+)</text>
                            </g>

                            <!-- Second Row -->
                            <!-- Sander -->
                            <g transform="translate(30, 120)">
                                <rect x="10" y="10" width="60" height="35" fill="#9B59B6" rx="5"/>
                                <rect x="5" y="45" width="70" height="15" fill="#DDD" rx="2"/>
                                <circle cx="25" cy="25" r="5" fill="#333"/>
                                <circle cx="55" cy="25" r="5" fill="#333"/>
                                <text x="40" y="75" font-size="10" text-anchor="middle" fill="#333">Random Orbit Sander</text>
                            </g>

                            <!-- Level -->
                            <g transform="translate(150, 120)">
                                <rect x="0" y="20" width="80" height="15" fill="#1ABC9C" rx="2"/>
                                <rect x="35" y="22" width="15" height="11" fill="#FFF" stroke="#1ABC9C"/>
                                <circle cx="42" cy="27" r="3" fill="#2ECC71"/>
                                <text x="40" y="55" font-size="10" text-anchor="middle" fill="#333">Level</text>
                            </g>

                            <!-- Safety Glasses -->
                            <g transform="translate(270, 120)">
                                <ellipse cx="25" cy="25" rx="18" ry="12" fill="none" stroke="#333" stroke-width="3"/>
                                <ellipse cx="60" cy="25" rx="18" ry="12" fill="none" stroke="#333" stroke-width="3"/>
                                <line x1="43" y1="25" x2="42" y2="25" stroke="#333" stroke-width="3"/>
                                <line x1="7" y1="20" x2="0" y2="15" stroke="#333" stroke-width="2"/>
                                <line x1="78" y1="20" x2="85" y2="15" stroke="#333" stroke-width="2"/>
                                <text x="42" y="55" font-size="10" text-anchor="middle" fill="#333">Safety Glasses</text>
                            </g>

                            <!-- Pencil -->
                            <g transform="translate(380, 120)">
                                <polygon points="15,35 50,35 55,30 50,25 15,25" fill="#F4D03F"/>
                                <polygon points="50,25 55,30 50,35 60,30" fill="#333"/>
                                <rect x="5" y="25" width="10" height="10" fill="#E91E63"/>
                                <text x="32" y="55" font-size="10" text-anchor="middle" fill="#333">Pencil</text>
                            </g>

                            <!-- Pocket Hole Jig -->
                            <g transform="translate(480, 120)">
                                <rect x="10" y="10" width="50" height="40" fill="#95A5A6" rx="3"/>
                                <circle cx="25" cy="30" r="6" fill="#333"/>
                                <circle cx="45" cy="30" r="6" fill="#333"/>
                                <rect x="0" y="40" width="70" height="10" fill="#7F8C8D"/>
                                <text x="35" y="65" font-size="10" text-anchor="middle" fill="#333">Pocket Hole Jig</text>
                                <text x="35" y="75" font-size="8" text-anchor="middle" fill="#666">(optional)</text>
                            </g>
                        </svg>
                    </div>

                    <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                        <div class="flex items-center gap-3 p-3 bg-green-50 rounded border-l-4 border-green-500">
                            <span class="text-2xl">*</span>
                            <div>
                                <div class="font-medium">Essential</div>
                            </div>
                        </div>
                    </div>
                    <ul class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-2">
                        <li class="flex items-center gap-2"><span class="text-green-500">*</span> Power Drill/Driver</li>
                        <li class="flex items-center gap-2"><span class="text-green-500">*</span> Circular Saw (or Miter Saw)</li>
                        <li class="flex items-center gap-2"><span class="text-green-500">*</span> Tape Measure</li>
                        <li class="flex items-center gap-2"><span class="text-green-500">*</span> Carpenter's Square</li>
                        <li class="flex items-center gap-2"><span class="text-green-500">*</span> Clamps (at least 4)</li>
                        <li class="flex items-center gap-2"><span class="text-green-500">*</span> Random Orbit Sander</li>
                        <li class="flex items-center gap-2"><span class="text-green-500">*</span> Level</li>
                        <li class="flex items-center gap-2"><span class="text-green-500">*</span> Safety Glasses & Ear Protection</li>
                        <li class="flex items-center gap-2"><span class="text-amber-500">*</span> Pocket Hole Jig (recommended)</li>
                        <li class="flex items-center gap-2"><span class="text-amber-500">*</span> Router (for edge details)</li>
                    </ul>
                </div>

                <!-- Assembly Instructions -->
                <div class="bg-white rounded-lg shadow p-6 mb-6">
                    <h3 class="text-xl font-bold mb-6 text-amber-800">Step-by-Step Assembly</h3>

                    <!-- Step 1 -->
                    <div class="mb-8 border-b pb-8">
                        <div class="flex items-center gap-4 mb-4">
                            <span class="bg-amber-600 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg">1</span>
                            <h4 class="text-lg font-bold">Cut All Pieces to Size</h4>
                        </div>
                        <div class="ml-14">
                            <p class="mb-4 text-gray-700">Using your circular saw or miter saw, cut all pieces according to the cut list. Always measure twice and cut once.</p>
                            <svg viewBox="0 0 500 150" class="w-full max-w-lg mb-4 bg-gray-50 rounded p-2">
                                <!-- Cutting diagram -->
                                <text x="250" y="20" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">Cutting Layout (from 8-foot boards)</text>

                                <!-- Board 1 - Tabletop -->
                                <rect x="20" y="35" width="460" height="20" fill="#DEB887" stroke="#8B4513" stroke-width="1"/>
                                <line x1="380" y1="35" x2="380" y2="55" stroke="#E74C3C" stroke-width="2" stroke-dasharray="4,2"/>
                                <text x="200" y="50" font-size="9" text-anchor="middle" fill="#333">Tabletop Board 48"</text>
                                <text x="420" y="50" font-size="9" text-anchor="middle" fill="#666">Waste</text>

                                <!-- Board 2 - Legs -->
                                <rect x="20" y="65" width="460" height="20" fill="#CD853F" stroke="#8B4513" stroke-width="1"/>
                                <line x1="125" y1="65" x2="125" y2="85" stroke="#E74C3C" stroke-width="2" stroke-dasharray="4,2"/>
                                <line x1="230" y1="65" x2="230" y2="85" stroke="#E74C3C" stroke-width="2" stroke-dasharray="4,2"/>
                                <line x1="335" y1="65" x2="335" y2="85" stroke="#E74C3C" stroke-width="2" stroke-dasharray="4,2"/>
                                <line x1="440" y1="65" x2="440" y2="85" stroke="#E74C3C" stroke-width="2" stroke-dasharray="4,2"/>
                                <text x="72" y="80" font-size="8" text-anchor="middle" fill="#333">Leg</text>
                                <text x="177" y="80" font-size="8" text-anchor="middle" fill="#333">Leg</text>
                                <text x="282" y="80" font-size="8" text-anchor="middle" fill="#333">Leg</text>
                                <text x="387" y="80" font-size="8" text-anchor="middle" fill="#333">Leg</text>

                                <!-- Board 3 - Long Apron -->
                                <rect x="20" y="95" width="460" height="15" fill="#D2691E" stroke="#8B4513" stroke-width="1"/>
                                <line x1="350" y1="95" x2="350" y2="110" stroke="#E74C3C" stroke-width="2" stroke-dasharray="4,2"/>
                                <text x="185" y="107" font-size="8" text-anchor="middle" fill="#333">Long Apron 42"</text>
                                <text x="405" y="107" font-size="8" text-anchor="middle" fill="#666">Short Apron 18"</text>

                                <!-- Legend -->
                                <line x1="20" y1="130" x2="40" y2="130" stroke="#E74C3C" stroke-width="2" stroke-dasharray="4,2"/>
                                <text x="45" y="133" font-size="9" fill="#333">= Cut line</text>
                            </svg>
                            <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded">
                                <p class="font-medium text-yellow-800">Safety Tip</p>
                                <p class="text-yellow-700 text-sm">Always wear safety glasses and ear protection when operating power tools. Secure your workpiece with clamps before cutting.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2 -->
                    <div class="mb-8 border-b pb-8">
                        <div class="flex items-center gap-4 mb-4">
                            <span class="bg-amber-600 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg">2</span>
                            <h4 class="text-lg font-bold">Sand All Pieces</h4>
                        </div>
                        <div class="ml-14">
                            <p class="mb-4 text-gray-700">Sand all pieces progressively using 80, 120, and 220 grit sandpaper. This ensures a smooth finish and better stain absorption.</p>
                            <div class="grid grid-cols-3 gap-4 mb-4">
                                <div class="text-center p-4 bg-gray-100 rounded">
                                    <div class="text-2xl font-bold text-amber-700">80</div>
                                    <div class="text-sm">Grit - Rough</div>
                                    <div class="text-xs text-gray-500">Remove splinters</div>
                                </div>
                                <div class="text-center p-4 bg-gray-100 rounded">
                                    <div class="text-2xl font-bold text-amber-600">120</div>
                                    <div class="text-sm">Grit - Medium</div>
                                    <div class="text-xs text-gray-500">Smooth surface</div>
                                </div>
                                <div class="text-center p-4 bg-gray-100 rounded">
                                    <div class="text-2xl font-bold text-amber-500">220</div>
                                    <div class="text-sm">Grit - Fine</div>
                                    <div class="text-xs text-gray-500">Final finish</div>
                                </div>
                            </div>
                            <p class="text-sm text-gray-600">Always sand in the direction of the wood grain. Wipe down with a tack cloth after sanding.</p>
                        </div>
                    </div>

                    <!-- Step 3 -->
                    <div class="mb-8 border-b pb-8">
                        <div class="flex items-center gap-4 mb-4">
                            <span class="bg-amber-600 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg">3</span>
                            <h4 class="text-lg font-bold">Assemble the Tabletop</h4>
                        </div>
                        <div class="ml-14">
                            <p class="mb-4 text-gray-700">Join the three tabletop boards (A) together using wood glue and clamps. For extra strength, use a pocket hole jig.</p>
                            <svg viewBox="0 0 500 180" class="w-full max-w-lg mb-4 bg-gray-50 rounded p-2">
                                <text x="250" y="20" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">Tabletop Assembly</text>

                                <!-- Three boards side by side -->
                                <rect x="50" y="40" width="400" height="35" fill="#DEB887" stroke="#8B4513" stroke-width="2"/>
                                <rect x="50" y="80" width="400" height="35" fill="#E8D4B8" stroke="#8B4513" stroke-width="2"/>
                                <rect x="50" y="120" width="400" height="35" fill="#DEB887" stroke="#8B4513" stroke-width="2"/>

                                <!-- Glue lines -->
                                <line x1="55" y1="77" x2="445" y2="77" stroke="#F4D03F" stroke-width="3"/>
                                <line x1="55" y1="117" x2="445" y2="117" stroke="#F4D03F" stroke-width="3"/>

                                <!-- Clamps -->
                                <rect x="30" y="35" width="15" height="130" fill="#3498DB" rx="2"/>
                                <rect x="455" y="35" width="15" height="130" fill="#3498DB" rx="2"/>

                                <!-- Arrows showing pressure -->
                                <text x="22" y="100" font-size="16" fill="#3498DB">&rarr;</text>
                                <text x="472" y="100" font-size="16" fill="#3498DB">&larr;</text>

                                <!-- Labels -->
                                <text x="250" y="60" font-size="9" text-anchor="middle" fill="#333">Board A1</text>
                                <text x="250" y="100" font-size="9" text-anchor="middle" fill="#333">Board A2</text>
                                <text x="250" y="140" font-size="9" text-anchor="middle" fill="#333">Board A3</text>

                                <text x="250" y="170" font-size="9" text-anchor="middle" fill="#666">Apply glue and clamp for 24 hours</text>
                            </svg>
                            <ol class="list-decimal list-inside space-y-2 text-gray-700">
                                <li>Lay boards flat on a level surface</li>
                                <li>Apply wood glue evenly along the joining edges</li>
                                <li>Align boards carefully (use cauls if available)</li>
                                <li>Apply clamps every 12 inches</li>
                                <li>Check for level and adjust as needed</li>
                                <li>Let dry for 24 hours</li>
                            </ol>
                        </div>
                    </div>

                    <!-- Step 4 -->
                    <div class="mb-8 border-b pb-8">
                        <div class="flex items-center gap-4 mb-4">
                            <span class="bg-amber-600 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg">4</span>
                            <h4 class="text-lg font-bold">Attach Breadboard Ends</h4>
                        </div>
                        <div class="ml-14">
                            <p class="mb-4 text-gray-700">Attach the breadboard ends (G) to the short sides of the tabletop. These prevent warping and add a professional look.</p>
                            <svg viewBox="0 0 500 150" class="w-full max-w-lg mb-4 bg-gray-50 rounded p-2">
                                <text x="250" y="20" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">Breadboard End Detail</text>

                                <!-- Tabletop (top view) -->
                                <rect x="80" y="40" width="340" height="80" fill="#DEB887" stroke="#8B4513" stroke-width="2"/>

                                <!-- Breadboard ends -->
                                <rect x="50" y="40" width="25" height="80" fill="#CD853F" stroke="#8B4513" stroke-width="2"/>
                                <rect x="425" y="40" width="25" height="80" fill="#CD853F" stroke="#8B4513" stroke-width="2"/>

                                <!-- Screws -->
                                <circle cx="62" cy="55" r="3" fill="#666"/>
                                <circle cx="62" cy="80" r="3" fill="#666"/>
                                <circle cx="62" cy="105" r="3" fill="#666"/>
                                <circle cx="437" cy="55" r="3" fill="#666"/>
                                <circle cx="437" cy="80" r="3" fill="#666"/>
                                <circle cx="437" cy="105" r="3" fill="#666"/>

                                <!-- Labels -->
                                <text x="62" y="135" font-size="9" text-anchor="middle" fill="#333">Breadboard</text>
                                <text x="250" y="85" font-size="10" text-anchor="middle" fill="#333">Tabletop (Top View)</text>
                                <text x="437" y="135" font-size="9" text-anchor="middle" fill="#333">Breadboard</text>
                            </svg>
                            <p class="text-sm text-gray-600">Use 2" screws from the underside of the tabletop into the breadboard ends. Pre-drill holes to prevent splitting.</p>
                        </div>
                    </div>

                    <!-- Step 5 -->
                    <div class="mb-8 border-b pb-8">
                        <div class="flex items-center gap-4 mb-4">
                            <span class="bg-amber-600 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg">5</span>
                            <h4 class="text-lg font-bold">Build the Leg Assemblies</h4>
                        </div>
                        <div class="ml-14">
                            <p class="mb-4 text-gray-700">Attach aprons to legs to create two end assemblies. Use glue and 2" screws (or pocket holes).</p>
                            <svg viewBox="0 0 500 200" class="w-full max-w-lg mb-4 bg-gray-50 rounded p-2">
                                <text x="250" y="20" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">End Assembly (Make 2)</text>

                                <!-- Left Leg -->
                                <rect x="60" y="40" width="30" height="130" fill="#CD853F" stroke="#8B4513" stroke-width="2"/>

                                <!-- Right Leg -->
                                <rect x="260" y="40" width="30" height="130" fill="#CD853F" stroke="#8B4513" stroke-width="2"/>

                                <!-- Short Apron (top) -->
                                <rect x="90" y="50" width="170" height="25" fill="#D2691E" stroke="#8B4513" stroke-width="2"/>

                                <!-- Shelf Support (bottom) -->
                                <rect x="90" y="130" width="170" height="15" fill="#BC8F8F" stroke="#8B4513" stroke-width="2"/>

                                <!-- Screws -->
                                <circle cx="100" cy="62" r="3" fill="#666"/>
                                <circle cx="250" cy="62" r="3" fill="#666"/>
                                <circle cx="100" cy="137" r="3" fill="#666"/>
                                <circle cx="250" cy="137" r="3" fill="#666"/>

                                <!-- Dimension lines -->
                                <line x1="175" y1="80" x2="175" y2="125" stroke="#333" stroke-width="1" stroke-dasharray="3,3"/>
                                <text x="185" y="105" font-size="8" fill="#333">10"</text>

                                <!-- Labels -->
                                <text x="75" y="185" font-size="9" text-anchor="middle" fill="#333">Leg (B)</text>
                                <text x="175" y="45" font-size="9" text-anchor="middle" fill="#333">Short Apron (D)</text>
                                <text x="175" y="155" font-size="9" text-anchor="middle" fill="#333">Shelf Support (F)</text>
                                <text x="275" y="185" font-size="9" text-anchor="middle" fill="#333">Leg (B)</text>

                                <!-- Note -->
                                <text x="400" y="100" font-size="9" text-anchor="start" fill="#666">Shelf support</text>
                                <text x="400" y="115" font-size="9" text-anchor="start" fill="#666">sits 10" from</text>
                                <text x="400" y="130" font-size="9" text-anchor="start" fill="#666">bottom of leg</text>
                            </svg>
                            <ol class="list-decimal list-inside space-y-2 text-gray-700">
                                <li>Position the short apron (D) flush with the top of the legs</li>
                                <li>Apply glue and secure with screws</li>
                                <li>Attach shelf support (F) 10 inches from the bottom of legs</li>
                                <li>Ensure assembly is square using a carpenter's square</li>
                                <li>Repeat for the second end assembly</li>
                            </ol>
                        </div>
                    </div>

                    <!-- Step 6 -->
                    <div class="mb-8 border-b pb-8">
                        <div class="flex items-center gap-4 mb-4">
                            <span class="bg-amber-600 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg">6</span>
                            <h4 class="text-lg font-bold">Connect End Assemblies with Long Aprons</h4>
                        </div>
                        <div class="ml-14">
                            <p class="mb-4 text-gray-700">Join the two end assemblies together using the long aprons (C).</p>
                            <svg viewBox="0 0 500 180" class="w-full max-w-lg mb-4 bg-gray-50 rounded p-2">
                                <text x="250" y="20" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">Base Frame Assembly (Top View)</text>

                                <!-- Outer frame -->
                                <rect x="50" y="40" width="400" height="120" fill="none" stroke="#8B4513" stroke-width="3"/>

                                <!-- Legs (corners) -->
                                <rect x="45" y="35" width="30" height="30" fill="#CD853F" stroke="#8B4513" stroke-width="2"/>
                                <rect x="425" y="35" width="30" height="30" fill="#CD853F" stroke="#8B4513" stroke-width="2"/>
                                <rect x="45" y="125" width="30" height="30" fill="#CD853F" stroke="#8B4513" stroke-width="2"/>
                                <rect x="425" y="125" width="30" height="30" fill="#CD853F" stroke="#8B4513" stroke-width="2"/>

                                <!-- Short aprons -->
                                <rect x="75" y="42" width="15" height="26" fill="#D2691E" stroke="#8B4513" stroke-width="1"/>
                                <rect x="410" y="42" width="15" height="26" fill="#D2691E" stroke="#8B4513" stroke-width="1"/>
                                <rect x="75" y="127" width="15" height="26" fill="#D2691E" stroke="#8B4513" stroke-width="1"/>
                                <rect x="410" y="127" width="15" height="26" fill="#D2691E" stroke="#8B4513" stroke-width="1"/>

                                <!-- Long aprons -->
                                <rect x="90" y="40" width="320" height="12" fill="#D2691E" stroke="#8B4513" stroke-width="1"/>
                                <rect x="90" y="143" width="320" height="12" fill="#D2691E" stroke="#8B4513" stroke-width="1"/>

                                <!-- Labels -->
                                <text x="250" y="35" font-size="9" text-anchor="middle" fill="#333">Long Apron (C) - 42"</text>
                                <text x="250" y="170" font-size="9" text-anchor="middle" fill="#333">Long Apron (C) - 42"</text>
                                <text x="30" y="100" font-size="8" text-anchor="middle" fill="#333" transform="rotate(-90, 30, 100)">Short (D)</text>
                                <text x="470" y="100" font-size="8" text-anchor="middle" fill="#333" transform="rotate(90, 470, 100)">Short (D)</text>
                            </svg>
                            <p class="text-sm text-gray-600">Use clamps to hold assemblies in place while securing with glue and screws. Check for square at each corner.</p>
                        </div>
                    </div>

                    <!-- Step 7 -->
                    <div class="mb-8 border-b pb-8">
                        <div class="flex items-center gap-4 mb-4">
                            <span class="bg-amber-600 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg">7</span>
                            <h4 class="text-lg font-bold">Install the Bottom Shelf</h4>
                        </div>
                        <div class="ml-14">
                            <p class="mb-4 text-gray-700">Place the shelf boards (E) across the shelf supports and secure with screws from below.</p>
                            <svg viewBox="0 0 500 150" class="w-full max-w-lg mb-4 bg-gray-50 rounded p-2">
                                <text x="250" y="20" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">Shelf Installation (Side View)</text>

                                <!-- Legs -->
                                <rect x="40" y="30" width="25" height="110" fill="#CD853F" stroke="#8B4513" stroke-width="2"/>
                                <rect x="435" y="30" width="25" height="110" fill="#CD853F" stroke="#8B4513" stroke-width="2"/>

                                <!-- Shelf supports -->
                                <rect x="65" y="100" width="370" height="10" fill="#BC8F8F" stroke="#8B4513" stroke-width="1"/>

                                <!-- Shelf boards -->
                                <rect x="70" y="85" width="360" height="12" fill="#DEB887" stroke="#8B4513" stroke-width="1"/>

                                <!-- Screws from below -->
                                <line x1="100" y1="100" x2="100" y2="88" stroke="#666" stroke-width="2"/>
                                <line x1="250" y1="100" x2="250" y2="88" stroke="#666" stroke-width="2"/>
                                <line x1="400" y1="100" x2="400" y2="88" stroke="#666" stroke-width="2"/>

                                <!-- Labels -->
                                <text x="250" y="80" font-size="9" text-anchor="middle" fill="#333">Shelf Boards (E)</text>
                                <text x="250" y="125" font-size="9" text-anchor="middle" fill="#666">Shelf Support (F)</text>
                            </svg>
                            <p class="text-sm text-gray-600">Space the shelf boards evenly with small gaps (~1/4") between them for visual interest.</p>
                        </div>
                    </div>

                    <!-- Step 8 -->
                    <div class="mb-8 border-b pb-8">
                        <div class="flex items-center gap-4 mb-4">
                            <span class="bg-amber-600 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg">8</span>
                            <h4 class="text-lg font-bold">Attach the Tabletop</h4>
                        </div>
                        <div class="ml-14">
                            <p class="mb-4 text-gray-700">Center the tabletop on the base frame and secure from below through the aprons.</p>
                            <svg viewBox="0 0 500 180" class="w-full max-w-lg mb-4 bg-gray-50 rounded p-2">
                                <text x="250" y="20" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">Tabletop Attachment (Cross Section)</text>

                                <!-- Tabletop -->
                                <rect x="30" y="40" width="440" height="20" fill="#DEB887" stroke="#8B4513" stroke-width="2"/>

                                <!-- Apron -->
                                <rect x="60" y="65" width="380" height="20" fill="#D2691E" stroke="#8B4513" stroke-width="2"/>

                                <!-- Figure-8 fasteners or pocket screws -->
                                <circle cx="100" cy="55" r="5" fill="#666" stroke="#333"/>
                                <circle cx="250" cy="55" r="5" fill="#666" stroke="#333"/>
                                <circle cx="400" cy="55" r="5" fill="#666" stroke="#333"/>

                                <!-- Legs -->
                                <rect x="50" y="60" width="25" height="80" fill="#CD853F" stroke="#8B4513" stroke-width="2"/>
                                <rect x="425" y="60" width="25" height="80" fill="#CD853F" stroke="#8B4513" stroke-width="2"/>

                                <!-- Labels -->
                                <text x="250" y="55" font-size="9" text-anchor="middle" fill="#FFF">Tabletop</text>
                                <text x="250" y="80" font-size="8" text-anchor="middle" fill="#FFF">Apron</text>

                                <!-- Overhang indicators -->
                                <line x1="30" y1="95" x2="50" y2="95" stroke="#333" stroke-width="1"/>
                                <line x1="30" y1="90" x2="30" y2="100" stroke="#333" stroke-width="1"/>
                                <line x1="50" y1="90" x2="50" y2="100" stroke="#333" stroke-width="1"/>
                                <text x="40" y="110" font-size="7" text-anchor="middle" fill="#333">1"</text>

                                <!-- Note -->
                                <text x="250" y="165" font-size="9" text-anchor="middle" fill="#666">Allow 1" overhang on all sides</text>
                            </svg>
                            <div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded">
                                <p class="font-medium text-blue-800">Pro Tip</p>
                                <p class="text-blue-700 text-sm">Use figure-8 fasteners or elongated screw holes to allow for wood movement with seasonal humidity changes.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Step 9 -->
                    <div class="mb-8">
                        <div class="flex items-center gap-4 mb-4">
                            <span class="bg-amber-600 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg">9</span>
                            <h4 class="text-lg font-bold">Apply Finish</h4>
                        </div>
                        <div class="ml-14">
                            <p class="mb-4 text-gray-700">Apply your chosen finish to protect the wood and enhance its beauty.</p>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                                <div class="p-4 bg-amber-50 rounded border border-amber-200">
                                    <h5 class="font-bold text-amber-800">Option 1: Stain + Poly</h5>
                                    <ol class="text-sm mt-2 space-y-1">
                                        <li>1. Apply wood stain</li>
                                        <li>2. Wipe off excess</li>
                                        <li>3. Let dry 24 hours</li>
                                        <li>4. Apply polyurethane</li>
                                        <li>5. Light sand (320 grit)</li>
                                        <li>6. Apply 2nd coat</li>
                                    </ol>
                                </div>
                                <div class="p-4 bg-green-50 rounded border border-green-200">
                                    <h5 class="font-bold text-green-800">Option 2: Natural Oil</h5>
                                    <ol class="text-sm mt-2 space-y-1">
                                        <li>1. Apply Danish oil</li>
                                        <li>2. Let soak 15 min</li>
                                        <li>3. Wipe off excess</li>
                                        <li>4. Let dry 24 hours</li>
                                        <li>5. Apply 2nd coat</li>
                                        <li>6. Buff to sheen</li>
                                    </ol>
                                </div>
                                <div class="p-4 bg-blue-50 rounded border border-blue-200">
                                    <h5 class="font-bold text-blue-800">Option 3: Paint</h5>
                                    <ol class="text-sm mt-2 space-y-1">
                                        <li>1. Apply primer</li>
                                        <li>2. Let dry 4 hours</li>
                                        <li>3. Light sand</li>
                                        <li>4. Apply paint coat 1</li>
                                        <li>5. Let dry, sand lightly</li>
                                        <li>6. Apply coat 2</li>
                                    </ol>
                                </div>
                            </div>
                            <p class="text-sm text-gray-600">Attach felt pads to the bottom of each leg to protect your floors.</p>
                        </div>
                    </div>
                </div>

                <!-- Final Assembly Diagram -->
                <div class="bg-white rounded-lg shadow p-6 mb-6">
                    <h3 class="text-xl font-bold mb-4 text-amber-800">Complete Assembly Diagram</h3>
                    <svg viewBox="0 0 600 400" class="w-full">
                        <!-- Title -->
                        <text x="300" y="25" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Exploded Assembly View</text>

                        <!-- Tabletop (floating above) -->
                        <g transform="translate(0, -20)">
                            <polygon points="100,80 500,80 530,60 130,60" fill="#DEB887" stroke="#8B4513" stroke-width="2"/>
                            <polygon points="100,80 100,95 500,95 500,80" fill="#D2B48C" stroke="#8B4513" stroke-width="1"/>
                            <polygon points="500,80 500,95 530,75 530,60" fill="#C4A060" stroke="#8B4513" stroke-width="1"/>

                            <!-- Breadboard ends -->
                            <rect x="95" y="60" width="10" height="35" fill="#CD853F" stroke="#8B4513" stroke-width="1"/>
                            <rect x="525" y="45" width="10" height="35" fill="#CD853F" stroke="#8B4513" stroke-width="1"/>

                            <text x="315" y="85" font-size="10" text-anchor="middle" fill="#333">Tabletop + Breadboards</text>
                        </g>

                        <!-- Assembly arrows -->
                        <line x1="300" y1="95" x2="300" y2="130" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                        <defs>
                            <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
                            </marker>
                        </defs>

                        <!-- Base Frame -->
                        <g transform="translate(0, 50)">
                            <!-- Long aprons -->
                            <polygon points="130,100 480,100 500,90 150,90" fill="#D2691E" stroke="#8B4513" stroke-width="2"/>
                            <polygon points="130,100 130,112 480,112 480,100" fill="#C4722E" stroke="#8B4513" stroke-width="1"/>
                            <polygon points="130,220 480,220 500,210 150,210" fill="#D2691E" stroke="#8B4513" stroke-width="2"/>

                            <!-- Short aprons -->
                            <polygon points="130,100 150,90 150,210 130,220" fill="#C4722E" stroke="#8B4513" stroke-width="1"/>
                            <polygon points="480,100 500,90 500,210 480,220" fill="#B8651E" stroke="#8B4513" stroke-width="1"/>

                            <!-- Legs -->
                            <rect x="115" y="95" width="25" height="140" fill="#CD853F" stroke="#8B4513" stroke-width="2"/>
                            <rect x="470" y="95" width="25" height="140" fill="#CD853F" stroke="#8B4513" stroke-width="2"/>
                            <polygon points="145,85 170,70 170,210 145,225" fill="#A0522D" stroke="#8B4513" stroke-width="1"/>
                            <polygon points="500,85 525,70 525,210 500,225" fill="#A0522D" stroke="#8B4513" stroke-width="1"/>

                            <!-- Shelf -->
                            <polygon points="140,190 475,190 495,180 160,180" fill="#DEB887" stroke="#8B4513" stroke-width="1"/>
                            <polygon points="140,190 140,200 475,200 475,190" fill="#D2B48C" stroke="#8B4513" stroke-width="1"/>

                            <!-- Shelf supports -->
                            <rect x="140" y="195" width="15" height="8" fill="#BC8F8F" stroke="#8B4513" stroke-width="1"/>
                            <rect x="460" y="195" width="15" height="8" fill="#BC8F8F" stroke="#8B4513" stroke-width="1"/>

                            <!-- Labels -->
                            <text x="315" y="107" font-size="9" text-anchor="middle" fill="#FFF">Long Apron (C)</text>
                            <text x="110" y="170" font-size="8" text-anchor="end" fill="#333">Leg (B)</text>
                            <text x="315" y="188" font-size="8" text-anchor="middle" fill="#333">Shelf (E)</text>
                        </g>

                        <!-- Parts legend -->
                        <g transform="translate(50, 320)">
                            <rect x="0" y="0" width="500" height="60" fill="#F9F9F9" stroke="#DDD" rx="5"/>
                            <text x="250" y="18" font-size="10" font-weight="bold" text-anchor="middle" fill="#333">Parts Key</text>

                            <rect x="20" y="30" width="20" height="10" fill="#DEB887" stroke="#8B4513"/>
                            <text x="45" y="39" font-size="9" fill="#333">A: Tabletop</text>

                            <rect x="110" y="30" width="15" height="15" fill="#CD853F" stroke="#8B4513"/>
                            <text x="130" y="42" font-size="9" fill="#333">B: Legs</text>

                            <rect x="185" y="30" width="25" height="8" fill="#D2691E" stroke="#8B4513"/>
                            <text x="215" y="39" font-size="9" fill="#333">C: Long Aprons</text>

                            <rect x="300" y="30" width="15" height="8" fill="#D2691E" stroke="#8B4513"/>
                            <text x="320" y="39" font-size="9" fill="#333">D: Short Aprons</text>

                            <rect x="400" y="30" width="20" height="6" fill="#BC8F8F" stroke="#8B4513"/>
                            <text x="425" y="38" font-size="9" fill="#333">E/F: Shelf</text>
                        </g>
                    </svg>
                </div>

                <!-- Tips Section -->
                <div class="bg-white rounded-lg shadow p-6 mb-6">
                    <h3 class="text-xl font-bold mb-4 text-amber-800">Pro Tips & Troubleshooting</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="p-4 bg-green-50 rounded border-l-4 border-green-500">
                            <h5 class="font-bold text-green-800 mb-2">Preventing Wobble</h5>
                            <p class="text-sm text-green-700">Ensure all legs are exactly the same length. Check for square at every joint. Use a level during assembly.</p>
                        </div>
                        <div class="p-4 bg-blue-50 rounded border-l-4 border-blue-500">
                            <h5 class="font-bold text-blue-800 mb-2">Hiding Screw Holes</h5>
                            <p class="text-sm text-blue-700">Use pocket holes on hidden surfaces. Fill visible holes with wood filler matching your stain color.</p>
                        </div>
                        <div class="p-4 bg-amber-50 rounded border-l-4 border-amber-500">
                            <h5 class="font-bold text-amber-800 mb-2">Wood Selection</h5>
                            <p class="text-sm text-amber-700">Choose straight boards without warping. Look for consistent grain patterns for a cohesive look.</p>
                        </div>
                        <div class="p-4 bg-purple-50 rounded border-l-4 border-purple-500">
                            <h5 class="font-bold text-purple-800 mb-2">Glue Up Tips</h5>
                            <p class="text-sm text-purple-700">Have all clamps ready before applying glue. Work quickly as wood glue sets in 10-15 minutes.</p>
                        </div>
                    </div>
                </div>

                <!-- Cost Estimate -->
                <div class="bg-amber-50 rounded-lg shadow p-6 border border-amber-200">
                    <h3 class="text-xl font-bold mb-4 text-amber-800">Estimated Cost</h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                        <div>
                            <div class="text-2xl font-bold text-amber-700">$50-75</div>
                            <div class="text-sm text-gray-600">Pine Lumber</div>
                        </div>
                        <div>
                            <div class="text-2xl font-bold text-amber-700">$100-150</div>
                            <div class="text-sm text-gray-600">Oak/Hardwood</div>
                        </div>
                        <div>
                            <div class="text-2xl font-bold text-amber-700">$20-30</div>
                            <div class="text-sm text-gray-600">Hardware</div>
                        </div>
                        <div>
                            <div class="text-2xl font-bold text-amber-700">$25-40</div>
                            <div class="text-sm text-gray-600">Finish</div>
                        </div>
                    </div>
                    <p class="text-center mt-4 text-gray-600">Total: <strong>$95-$220</strong> depending on wood choice</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Add/Edit Modal -->
    <div id="game-modal" class="modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center z-50">
        <div class="bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-screen overflow-y-auto">
            <h2 id="modal-title" class="text-xl font-bold mb-4">Add Game</h2>
            <form id="game-form" onsubmit="saveGame(event)">
                <input type="hidden" id="game-id">

                <div class="grid grid-cols-2 gap-4 mb-4">
                    <div>
                        <label class="block text-sm font-medium mb-1">Date/Time</label>
                        <input type="datetime-local" id="game-datetime" class="w-full border rounded px-3 py-2" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">Result</label>
                        <select id="game-win" class="w-full border rounded px-3 py-2" required>
                            <option value="Yes">Win</option>
                            <option value="No">Loss</option>
                        </select>
                    </div>
                </div>

                <div class="mb-4">
                    <label class="block text-sm font-medium mb-1">Opponent</label>
                    <input type="text" id="game-opponent" class="w-full border rounded px-3 py-2">
                </div>

                <div class="grid grid-cols-4 gap-2 mb-4">
                    <div>
                        <label class="block text-sm font-medium mb-1">P1 Character</label>
                        <input type="text" id="game-p1_character" class="w-full border rounded px-2 py-1 text-sm">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">P2 Character</label>
                        <input type="text" id="game-p2_character" class="w-full border rounded px-2 py-1 text-sm">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">P3 Character</label>
                        <input type="text" id="game-p3_character" class="w-full border rounded px-2 py-1 text-sm">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">P4 Character</label>
                        <input type="text" id="game-p4_character" class="w-full border rounded px-2 py-1 text-sm">
                    </div>
                </div>

                <div class="mb-3 p-2 bg-blue-50 border border-blue-200 rounded text-xs text-blue-700">
                    <strong>Tip:</strong> Leave stat fields empty to mark as "N/A" (not available). Enter 0 for zero values.
                </div>

                <div class="grid grid-cols-4 gap-2 mb-4">
                    <div>
                        <label class="block text-sm font-medium mb-1">P1 KOs</label>
                        <input type="number" id="game-p1_kos" class="w-full border rounded px-2 py-1 text-sm" value="0">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">P2 KOs</label>
                        <input type="number" id="game-p2_kos" class="w-full border rounded px-2 py-1 text-sm" value="0">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">P3 KOs</label>
                        <input type="number" id="game-p3_kos" class="w-full border rounded px-2 py-1 text-sm" value="0">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">P4 KOs</label>
                        <input type="number" id="game-p4_kos" class="w-full border rounded px-2 py-1 text-sm" value="0">
                    </div>
                </div>

                <div class="grid grid-cols-4 gap-2 mb-6">
                    <div>
                        <label class="block text-sm font-medium mb-1">P1 Damage</label>
                        <input type="number" id="game-p1_damage" class="w-full border rounded px-2 py-1 text-sm" value="0">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">P2 Damage</label>
                        <input type="number" id="game-p2_damage" class="w-full border rounded px-2 py-1 text-sm" value="0">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">P3 Damage</label>
                        <input type="number" id="game-p3_damage" class="w-full border rounded px-2 py-1 text-sm" value="0">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">P4 Damage</label>
                        <input type="number" id="game-p4_damage" class="w-full border rounded px-2 py-1 text-sm" value="0">
                    </div>
                </div>

                <div class="flex justify-end gap-2">
                    <button type="button" onclick="closeModal()" class="px-4 py-2 border rounded hover:bg-gray-100">
                        Cancel
                    </button>
                    <button type="submit" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
                        Save
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-modal" class="modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center z-50">
        <div class="bg-white rounded-lg p-6 w-full max-w-md mx-4">
            <h2 class="text-xl font-bold mb-4">Delete Game?</h2>
            <p class="mb-6 text-gray-600">Are you sure you want to delete this game? This action cannot be undone.</p>
            <input type="hidden" id="delete-game-id">
            <div class="flex justify-end gap-2">
                <button onclick="closeDeleteModal()" class="px-4 py-2 border rounded hover:bg-gray-100">
                    Cancel
                </button>
                <button onclick="confirmDelete()" class="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600">
                    Delete
                </button>
            </div>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
